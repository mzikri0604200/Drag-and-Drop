/*! @name @bnnvara/videojs-chrome-pip @version 0.0.4 @license ISC */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js"),require("global/document")):"function"==typeof define&&define.amd?define(["video.js","global/document"],t):e.videojsChromePip=t(e.videojs,e.document)}(this,function(e,t){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var n={PiP:"Picture in Picture"},i={PiP:"Minispeler"},r=e.getComponent("Button"),o=function(e){return e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSetPresentationMode};e.addLanguage("en",n),e.addLanguage("nl",i);var u=function(n){var i,r;function u(e,t){var i;return(i=n.call(this,e,t)||this).controlText(e.localize("PiP")),i.on(e,"enterpictureinpicture",i.handlePipEvent),i}r=n,(i=u).prototype=Object.create(r.prototype),i.prototype.constructor=i,i.__proto__=r;var c=u.prototype;return c.buildCSSClass=function(){return"vjs-chrome-pip "+n.prototype.buildCSSClass.call(this)},c.handlePipEvent=function(t){e.log("Entered PiP mode")},c.handleClick=function(){var n=this.player_.tech_.el_;o(n)?n.webkitSetPresentationMode("picture-in-picture"===n.webkitPresentationMode?"inline":"picture-in-picture"):t.pictureInPictureElement?t.exitPictureInPicture().catch(function(t){e.log(t)}):n.requestPictureInPicture().catch(function(t){e.log(t)})},u}(r);u.VERSION="0.0.4",e.registerComponent("pip",u);var c=function(e){var n=this;this.on("ready",function(){var i=n.controlBar;if(t.pictureInPictureEnabled||o(n.tech_.el_)){var r=n.addChild("pip",e);i.el().insertBefore(r.el(),i.fullscreenToggle.el())}})};return e.registerPlugin("chromePip",c),c});
